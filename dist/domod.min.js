!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.domod=t()}(this,function(){"use strict";function n(n,t,e,r){n.addEventListener?n.addEventListener(t,e,!!r):("input"===t&&(t="propertychange"),n.attachEvent("on"+t,e))}function t(n,e,r){e=e||function(){return!0};var u={};return F(n,function(n,i){if(T(n)&&!e(n)){var o=t(n,e,r);F(o,function(n,t){u[i+"."+t]=n})}else!e(n)&&r||(u[i]=n)}),u}function e(n,t,e,u){S&&!j(n)?Object.defineProperty(n,t,e):("value"in e&&(n[t]=e.value),u=u||r(t,n),!L[u]&&("get"in e||"set"in e)&&(L[u]={}),"get"in e&&(L[u].get=e.get),"set"in e&&(L[u].set=e.set))}function r(n,t){if(t===undefined)return n;var e=u(t);return null==e?n||"":e+(n?"."+n:"")}function u(n){if(n===M||!T(n)&&!j(n))return null;if(!n.__kernel_root){var t="kr_"+b();e(n,"__kernel_root",{value:t}),M[t]=n}return n.__kernel_root}function i(n,t){return(T(n)||m(n))&&(n=[n]),k(n)?n.map(function(n){return T(n)?u(n.root)+"."+n.alias:m(n)?u(t)+"."+n:null}):[]}function o(n){return C[n]===undefined?0:C[n].length}function a(n,t,r){var a,f={};if(S){if(null==(f=c(t,n)))return;a=f.target[f.property]}var l=u(n)+"."+t,p=l+"#"+o(l);e(this,"__kid",{value:p}),W[this.__kid]=1,C[l]===undefined&&(C[l]=[],S&&$(f.target,f.property)&&delete f.target[f.property]),C[l].push(1);var d=i(r.dnstream,n),h=r.resultIn,v=i(r.upstream,n),g=r.resultFrom,_=!!r.lazy;I[l]||(I[l]={}),d.forEach(function(n){Z[n]||(Z[n]={}),Z[n][l]||(Z[n][l]={}),Z[n][l][p]=1,I[l][n]||(I[l][n]={}),I[l][n][p]=1}),P[l]||(P[l]=[]),P[l].push(O(h)?h:null),Z[l]||(Z[l]={}),v.forEach(function(n){Z[l][n]||(Z[l][n]={}),Z[l][n][p]=1,I[n]||(I[n]={}),I[n][l]||(I[n][l]={}),I[n][l][p]=1}),O(g)&&(w[l]={f:g,k:this.__kid,deps:v}),_&&(B[l]=!0),1===C[l].length&&e(f.target,f.property,{get:function(n,t){if(w[l]&&0!==W[w[l].k]){var e=w[l].f.apply(null,w[l].deps.map(function(n){return s(null,n)}));s(null,l,e),a=e}else S||(t!==undefined?a=n[t]:(f=c(l),a=f.target[f.property]));return a},set:function(t,e,r){t!==a&&(a=t,S||(r!==undefined?e[r]=t:(f=c(l)).target[f.property]=t),P[l]&&P[l].forEach(function(e,r){e&&0!==W[l+"#"+r]&&e.apply(n,[t])}),I[l]&&F(I[l],function(n,t){var e=!1;F(n,function(n,t){if(0!==W[t])return e=!0,!1}),e&&w[t]&&!B[t]&&s(null,t)}))},enumerable:!0},l),$(r,"value")&&s(null,l,r.value)}function f(n){if(!T(n))return!1;var t=!0,e={__isRelation:2,dnstream:1,resultIn:1,upstream:1,resultFrom:1,lazy:!0,value:!0},r=0;return F(n,function(n,u){return 2===e[u]?(t=!0,r++,!1):e[u]?void(1===e[u]&&r++):(t=!1,!1)}),t&&r>0}function l(n,e){var r;if(1===arguments.length){if(!T(n))return null;r=t(n,f,!0)}else{if(!T(e))return null;r=t(e,f,!0)}return F(r,function(t,e){new a(n,e,t)}),n}function c(n,t){if(t===undefined&&(t=M),!T(t)&&!j(t)||!m(n))return null;var e=r(n,t),u=e.lastIndexOf(".");return{target:s(null,e.substring(0,u)),property:e.substring(u+1)}}function s(n,t,e){n=n||M;var u=arguments.length>=3,i=n,o=r(null,n),a=[];t&&(a=t.split("."));for(var f;a.length;){if(D(i))return undefined;f=a.shift(),o+=(""===o?"":".")+f,u&&0===a.length?(!S&&L[o]&&L[o].set&&L[o].set(e,i,f),i[f]=e):i=!S&&L[o]&&L[o].get?L[o].get(i,f):i[f]}return u?e:i}function p(n,t,e){var r=Object.keys(t);R.refBeginsWithDollar&&(r=r.map(function(n){return"$"+n}));var u=Object.values(t);return new Function(r.join(","),"return ("+n+")").apply(e||t,u)}function d(n,t){n=h(n);var e=null;try{e=p(n,t)}catch(r){}return e}function h(n){var t=/{{([^{}]*)}}/g;return n.replace(t,function(n,t){return"' + ("+t+") + '"})}function v(n,t){var e=/{{([^{}]*)}}/g;return n.replace(e,function(n,e){return d(e,t)})}function g(n){n=";"+n+";";var t;return R.refBeginsWithDollar?(t=/\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g,n.match(t).map(function(n){return n.substr(1)})):(t=/([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g,n.match(t))}function _(n){var t=/{{([^{}]*)}}/g,e=[];return n.replace(t,function(n,t){return e.push(t),""}),e}function y(n,t,e,r,u){var i=j(e),o=function(){var o=(u||function(){return d(n,t)})();if(i&&"className"===r){var a=[];T(o)?F(o,function(n,t){n&&a.push(t)}):k(o)&&F(o,function(n){m(n)?a.push(n):T(n)&&F(n,function(n,t){n&&a.push(t)})}),o=a.join(" ")}else if(i&&"style.cssText"===r){var f=[];T(o)&&F(o,function(n,t){f.push(t+":"+n)}),o=f.join(";")}if(i&&r.startsWith(R.attrsFlag)){if(null!=o){var l=r.substr(R.attrsFlag.length);e.setAttribute(l,o)}}else s(e,r,o)},a={};return function(n,t){var e={};return F(g(n),function(n){e[n]=s(t,n)}),z(e)}(n,t).forEach(function(n){a[n]={resultIn:o}}),o(),a}function N(t,e){if(j(t)&&T(e))if(t.nodeType!==Node.ELEMENT_NODE||t[U.domBoundFlag]){if(t.nodeType===Node.TEXT_NODE){var r=t.nodeValue,u=_(r).join(";");if(""===u)return;l(e,y(u,e,t,"nodeValue",function(){return v(r,e)}))}}else{t[U.domBoundFlag]=!0;var i=[];F(t.attributes,function(r,u){if(u.startsWith(U.attrPrefix))switch(i.push(u),u=u.substr(U.attrPrefix.length).toLowerCase()){case"value":n(t,"input",function(n){s(e,R.refBeginsWithDollar?r.substr(1):r,this.value)},!1),l(e,y(r,e,t,u));break;case"innertext":case"innerhtml":l(e,y(r,e,t,"innertext"===u?"innerText":"innerHTML"));break;case"class":l(e,y(r,e,t,"className"));break;case"style":l(e,y(r,e,t,"style.cssText"));break;case"each":break;default:var o=x(u);o?n(t,o,function(n){p(r,e,t)},!1):l(e,y(r,e,t,R.attrsFlag+u))}}),F(i,function(n){t.removeAttribute(n)}),F(t,function(n){N(n,e)})}}var b=function(){var n=0;return function(){return n++}}(),E=function(n){var t=parseInt(n);return!isNaN(t)&&(("number"==typeof n||"string"==typeof n)&&t==n)},m=function(n){return"string"==typeof n},O=function(n){return"function"==typeof n},T=function(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)},k=function(n){return"[object Array]"===Object.prototype.toString.call(n)},D=function(n){return null==n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||"function"==typeof n},j=function(n){return"function"==typeof Node&&n instanceof Node},A=function(n){return n instanceof NamedNodeMap},x=function(n){return!(!m(n)||!n.startsWith("on"))&&n.substr(2)},F=function(n,t,e){var r,u;if(T(n)){for(var i in n)if(n.hasOwnProperty(i)&&!1===t(n[i],i))break}else if(k(n))if(e)for(r=n.length-1;r>=0&&!1!==t(n[r],r);r--);else for(r=0,u=n.length;r<u&&!1!==t(n[r],r);r++);else if(j(n)){var o=!1;switch(n.nodeType){case Node.ELEMENT_NODE:break;case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.DOCUMENT_NODE:case Node.DOCUMENT_TYPE_NODE:case Node.DOCUMENT_FRAGMENT_NODE:default:o=!0}if(o)return;var a=n.childNodes;for(r=0,u=a.length;r<u;r++)t(a[r]),F(a[r],t)}else if(A(n))for(r=0,u=n.length;r<u&&!1!==t(n[r].nodeValue,n[r].nodeName);r++);else n&&O(n.forEach)&&n.forEach(t)},$=function(n,t){if(T(n))return n.hasOwnProperty(t);if(k(n)){var e=parseInt(t);return E(t)&&n.length>e&&e>=0}return!1},z=function(n){var t=[];return F(n,function(n,e){if(T(n)){var r=z(n);F(r,function(n){t.push(e+"."+n)})}else t.push(e)}),t},M={},I={},P={},Z={},w={},B={},C={},W={},L={},S=(Object.defineProperty,!1);a.prototype.disable=function(){W[this.__kid]=0},a.prototype.enable=function(){W[this.__kid]=1},a.prototype.destroy=function(){};var R={refBeginsWithDollar:!0,attrsFlag:"attrs."},U={attrPrefix:"m-",domBoundFlag:"__dmd_bound"},V=function(n,t){N.call(this,n,t)};return V.kernel=a,V.relate=l,V.$=s,V});
//# sourceMappingURL=domod.min.js.map
