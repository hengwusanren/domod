!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.domod=n()}(this,function(){"use strict";function t(t,n,e,r){t.addEventListener?t.addEventListener(n,e,!!r):("input"===n&&(n="propertychange"),t.attachEvent("on"+n,e))}function n(t,e,r){e=e||function(){return!0};var i={};return C(t,function(t,o){if(k(t)&&!e(t)){var u=n(t,e,r);C(u,function(t,n){i[o+"."+n]=t})}else!e(t)&&r||(i[o]=t)}),i}function e(t,n,e,i){tt&&!D(t)?Object.defineProperty(t,n,e):("value"in e&&(t[n]=e.value),i=i||r(n,t),!Q[i]&&("get"in e||"set"in e)&&(Q[i]={}),"get"in e&&(Q[i].get=e.get),"set"in e&&(Q[i].set=e.set))}function r(t,n){if(n===undefined)return t;var e=i(n);return null==e?t||"":e+(t?"."+t:"")}function i(t){if(t===V||!k(t)&&!D(t))return null;if(!t.__kernel_root){var n="kr_"+b();e(t,"__kernel_root",{value:n}),V[n]=t}return t.__kernel_root}function o(t,n){return(k(t)||O(t))&&(t=[t]),x(t)?t.map(function(t){return k(t)?i(t.root)+"."+t.alias:O(t)?i(n)+"."+t:null}):[]}function u(t){return q[t]===undefined?0:q[t].length}function a(t,n,r){var a,f={};if(tt){if(null==(f=c(n,t)))return;a=f.target[f.property]}var s=i(t)+"."+n,h=s+"#"+u(s);e(this,"__kid",{value:h}),J[this.__kid]=1,q[s]===undefined&&(q[s]=[],tt&&M(f.target,f.property)&&delete f.target[f.property]),q[s].push(1);var d=o(r.dnstream,t),v=r.resultIn,_=o(r.upstream,t),y=r.resultFrom,g=!!r.lazy;G[s]||(G[s]={}),d.forEach(function(t){H[t]||(H[t]={}),H[t][s]||(H[t][s]={}),H[t][s][h]=1,G[s][t]||(G[s][t]={}),G[s][t][h]=1}),X[s]||(X[s]=[]),X[s].push(T(v)?v:null),H[s]||(H[s]={}),_.forEach(function(t){H[s][t]||(H[s][t]={}),H[s][t][h]=1,G[t]||(G[t]={}),G[t][s]||(G[t][s]={}),G[t][s][h]=1}),T(y)&&(K[s]={f:y,k:this.__kid,deps:_}),g&&(Y[s]=!0),1===q[s].length&&e(f.target,f.property,{get:function(t,n){if(K[s]&&0!==J[K[s].k]){var e=K[s].f.apply(null,K[s].deps.map(function(t){return p(null,t)}));p(null,s,e),a=e}else tt||(n!==undefined?a=t[n]:(f=c(s),a=f.target[f.property]));return a},set:function(n,e,r){n!==a&&(tt?a=B(a,n):(r===undefined&&(e=(f=c(s)).target,r=f.property),k(e[r])&&isObject(n)?l(s,n,e[r]):e[r]=n,a=e[r]),X[s]&&X[s].forEach(function(n,e){n&&0!==J[s+"#"+e]&&n.apply(t,[a])}),G[s]&&C(G[s],function(t,n){var e=!1;C(t,function(t,n){if(0!==J[n])return e=!0,!1}),e&&K[n]&&!Y[n]&&p(null,n)}))},enumerable:!0},s),M(r,"value")&&p(null,s,r.value)}function f(t){if(!k(t))return!1;var n=!0,e={__isRelation:2,dnstream:1,resultIn:1,upstream:1,resultFrom:1,lazy:!0,value:!0},r=0;return C(t,function(t,i){return 2===e[i]?(n=!0,r++,!1):e[i]?void(1===e[i]&&r++):(n=!1,!1)}),n&&r>0}function s(t,e){var r;if(1===arguments.length){if(!k(t))return null;r=n(t,f,!0)}else{if(!k(e))return null;r=n(e,f,!0)}return C(r,function(n,e){new a(t,e,n)}),t}function c(t,n){if(n===undefined&&(n=V),!k(n)&&!D(n)||!O(t))return null;var e=r(t,n),i=e.lastIndexOf(".");return{target:p(null,e.substring(0,i)),property:e.substring(i+1)}}function l(t,n,e){e=e||p(null,t),C(n,function(n,r){var i=t+"."+r;!M(e,r)||j(e[r])||j(n)?p(null,i,F(n)):l(i,n,e[r])})}function p(t,n,e){t=t||V;var i=arguments.length>=3,o=t,u=r(null,t),a=[];n&&(a=n.split("."));for(var f;a.length;){if(j(o))return undefined;f=a.shift(),u+=(""===u?"":".")+f,i&&0===a.length?tt?o[f]=B(o[f],e):k(o[f])&&k(e)?l(u,e,o[f]):Q[u]&&Q[u].set?Q[u].set(e,o,f):o[f]=e:o=!tt&&Q[u]&&Q[u].get?Q[u].get(o,f):o[f]}return i?e:o}function h(t,n,e){Object.defineProperty?Object.defineProperty(t,n,e):"value"in e&&(t[n]=e.value)}function d(t,n){k(t)&&1===arguments.length&&(n=t),x(t)||(t=[]),n||(n={}),h(this,"__data",{value:t}),h(this,"length",{get:function(){return t.length},set:function(n){t.length=n}});var e=this,r=["set","push","pop","unshift","shift","splice"];r.forEach(function(t){h(e,"on"+t,{value:[]})}),r.forEach(function(t){e.addEventListener(t,n["on"+t])}),C(t,function(t,n){e.assignElement(n)})}function v(t,n,e){x(n)?e||(e=n[n.length-1]):(n=[n],e||(e=n[0]));var r={};C(n,function(t){C(t,function(t,n){n in r||(r[n]=t)})});var i=Object.keys(r);nt.refBeginsWithDollar&&(i=i.map(function(t){return"$"+t}));var o=Object.values(r);return new Function(i.join(","),"return ("+t+")").apply(e,o)}function _(t,n){t=y(t);var e=null;try{e=v(t,n)}catch(r){}return e}function y(t){var n=/{{([^{}]*)}}/g;return t.replace(n,function(t,n){return"' + ("+n+") + '"})}function g(t,n){var e=/{{([^{}]*)}}/g;return t.replace(e,function(t,e){return _(e,n)})}function E(t){t=";"+t+";";var n;return nt.refBeginsWithDollar?(n=/\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g,t.match(n).map(function(t){return t.substr(1)})):(n=/([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g,t.match(n))}function A(t,n){var e,r,i,o;nt.refBeginsWithDollar?(o=rt.each12.exec(t))?(e=o[1].substr(1),r=o[3].substr(1),i=o[5].substr(1)):(e=(o=rt.each11.exec(t))[1].substr(1),i=o[3].substr(1)):(o=rt.each22.exec(t))?(e=o[1],r=o[3],i=o[5]):(e=(o=rt.each21.exec(t))[1],i=o[3]);var u=S(i,n),a=p(u,i);return a instanceof d||p(u,i,a=new d(a)),{target:a,targetRef:i,iterator:{val:e,key:r}}}function m(t){var n=/{{([^{}]*)}}/g,e=[];return t.replace(n,function(t,n){return e.push(n),""}),e}function $(t,n,e,r,i){x(n)||(n=[n]);var o=D(e),u=function(){var u=(i||function(){return _(t,n)})();if(o&&"className"===r){var a=[];k(u)?C(u,function(t,n){t&&a.push(n)}):x(u)&&C(u,function(t){O(t)?a.push(t):k(t)&&C(t,function(t,n){t&&a.push(n)})}),u=a.join(" ")}else if(o&&"style.cssText"===r){var f=[];k(u)&&C(u,function(t,n){f.push(n+":"+t)}),u=f.join(";")}if(o&&r.startsWith(nt.attrsFlag)){if(null!=u){var s=r.substr(nt.attrsFlag.length);e.setAttribute(s,u)}}else p(e,r,u)},a=function(t,n){var e=E(t),r={};C(e,function(t){var e=U(t,n);r[e]||(r[e]={}),r[e][t]=p(n[e],t)});var i=[];return C(r,function(t,e){i.push({target:n[e],refs:W(t)})}),i}(t,n).map(function(t){return{target:t.target,relations:function(){var n={};return t.refs.forEach(function(t){n[t]={resultIn:u}}),n}()}});return u(),a}function N(n,e,r){if(!D(n)||!k(e))return null;var i=(r=r?x(r)?r:[r]:[]).concat(e);if(n.nodeType!==Node.ELEMENT_NODE||n[it.domBoundFlag]){if(n.nodeType===Node.TEXT_NODE){var o=n.nodeValue,u=m(o).join(";");if(""===u)return null;var a=n,f="nodeValue";"textarea"===n.parentNode.nodeName.toLowerCase()&&(a=n.parentNode,f="value"),$(u,i,a,f,function(){return g(o,i)}).forEach(function(t){s(t.target,t.relations)})}}else{if(n[it.domBoundFlag]=!0,n.hasAttribute(nt.attrPrefix+"each")){var c=nt.attrPrefix+"each",l=A(n.getAttribute(c),e);n.removeAttribute(c);var h=n.parentNode;h.removeChild(n);var d=l.target;C(d,function(t,i){var o=n.cloneNode(!0),u={};u[l.iterator.val]=t,u[l.iterator.key]=i,N(o,e,[u].concat(r)),h.appendChild(o),d.on({push:function(t){},unshift:function(t){},pop:function(){},shift:function(){},splice:function(t,n,e){},set:function(t,n,e,r){}})}),d.on({push:function(t){},unshift:function(t){},pop:function(){},shift:function(){},splice:function(t,n,e){},set:function(t,n,e,r){}})}C(n,function(t){N(t,e,r)});var _=[];C(n.attributes,function(o,u){if(u.startsWith(nt.attrPrefix)){_.push(u),u=u.substr(nt.attrPrefix.length).toLowerCase();var a=P(u);if(a)t(n,a,function(t){v(o,[{e:t}].concat(i))},!0);else{if(ot[n.nodeName.toLowerCase()]&&"value"===u){var f=nt.refBeginsWithDollar?o.substr(1):o,c=S(f,r,e);t(n,"input",function(t){p(c,f,this.value)},!1)}u=et[u]?et[u]:nt.attrsFlag+u,$(o,i,n,u).forEach(function(t){s(t.target,t.relations)})}}}),C(_,function(t){n.removeAttribute(t)})}return n}var b=function(){var t=0;return function(){return t++}}(),z=function(t){return"number"==typeof t},Z=function(t){var n=parseInt(t);return!isNaN(n)&&(("number"==typeof t||"string"==typeof t)&&n==t)},O=function(t){return"string"==typeof t},T=function(t){return"function"==typeof t},k=function(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)},x=function(t){return"[object Array]"===Object.prototype.toString.call(t)},j=function(t){return null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"function"==typeof t},D=function(t){return"function"==typeof Node&&t instanceof Node},L=function(t){return t instanceof NamedNodeMap},P=function(t){return!(!O(t)||!t.startsWith("on"))&&t.substr(2)},C=function(t,n,e){var r,i;if(k(t)&&T(t.forEach))t.forEach(n);else if(k(t)){for(var o in t)if(t.hasOwnProperty(o)&&!1===n(t[o],o))break}else if(x(t))if(e)for(r=t.length-1;r>=0&&!1!==n(t[r],r);r--);else for(r=0,i=t.length;r<i&&!1!==n(t[r],r);r++);else if(D(t)){var u=!1;switch(t.nodeType){case Node.ELEMENT_NODE:break;case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.DOCUMENT_NODE:case Node.DOCUMENT_TYPE_NODE:case Node.DOCUMENT_FRAGMENT_NODE:default:u=!0}if(u)return;var a=t.childNodes;for(r=0,i=a.length;r<i;r++)n(a[r]),C(a[r],n)}else if(L(t))for(r=0,i=t.length;r<i&&!1!==n(t[r].nodeValue,t[r].nodeName);r++);},F=function(t){var n=t;return k(t)?(n={},C(t,function(t,e){n[e]=F(t)})):x(t)&&(n=[],C(t,function(t){n.push(F(t))})),n},M=function(t,n){if(k(t))return t.hasOwnProperty(n);if(x(t)){var e=parseInt(n);return Z(n)&&t.length>e&&e>=0}return!1},w=function(t,n,e){var r=O(n)||z(n),i=r?t[n]:t;(k(i)||x(i))&&(C(i,function(t,n){w(i,n)}),x(i)&&I(i)),r&&(t[n]=e)},I=function(t,n){if(z(n))for(C(t,function(e,r){if(!(r>=n))return!1;t.length--},!0);t.length<n;)t.push(null);else C(t,function(n,e){n===undefined&&t.length--},!0);return t},B=function(t,n,e,r){function i(t,n,e){return k(n)?(C(n,function(n,r){!M(t,r)||j(n)?t[r]!==n&&(t[r]=F(n)):t[r]=i(t[r],n,e)}),e&&(C(t,function(e,r){M(n,r)||w(t,r)}),x(t)&&I(t)),t):n}if(!k(t))return n;var o,u=0;undefined,e=!1;var a=arguments[arguments.length-1];return T(a)?(u=2,a,e=!!arguments[arguments.length-2]):!0===a&&(u=1,e=a),o=Array.prototype.slice.call(arguments,1,arguments.length-u),C(o,function(n){t=i(t,n,e)}),t},W=function(t){var n=[];return C(t,function(t,e){if(k(t)){var r=W(t);C(r,function(t){n.push(e+"."+t)})}else n.push(e)}),n},R=function(t,n){for(var e=t,r=n.split(".");r.length;){var i=r.shift();if(!M(e,i))return!1;e=e[i]}return!0},S=function(t,n){for(var e,r=Array.prototype.slice.call(arguments,1),i=0,o=r.length;i<o;i++)if(e=r[i],x(e)){var u=S.apply(null,[t].concat(e));if(u)return u}else if(R(e,t))return e},U=function(t,n){var e=n.length-1;return C(n,function(n,r){if(R(n,t))return e=r,!1}),e},V={},G={},X={},H={},K={},Y={},q={},J={},Q={},tt=(Object.defineProperty,!1);a.prototype.disable=function(){J[this.__kid]=0},a.prototype.enable=function(){J[this.__kid]=1},a.prototype.destroy=function(){},d.prototype=[],d.prototype.constructor=d,d.prototype.addEventListener=function(t,n){var e=this;k(t)?C(t,function(t,n){e.addEventListener(n,t)}):this["on"+t]&&T(n)&&this["on"+t].push(n)},d.prototype.on=d.prototype.addEventListener,d.prototype.removeEventListener=function(t,n){var e=this;if(k(t))C(t,function(t,n){e.removeEventListener(n,t)});else if(this["on"+t]&&T(n)){var r=this["on"+t];C(r,function(t,e){if(t===n)return r.splice(e,1),!1})}},d.prototype.off=d.prototype.removeEventListener,d.prototype.dispatchEvent=function(t,n){n=Array.prototype.slice.call(arguments,1);var e=this;C(this["on"+t],function(t){t.apply(e,n)})},d.prototype.trigger=d.prototype.dispatchEvent,d.prototype.get=function(t){return this.__data[t]},d.prototype.set=function(t,n){var e=this.__data[t];j(e)||j(n)?(this.dispatchEvent("set",e,n,t,this.__data),this.__data[t]=n):B(e,n,!0)},d.prototype.assignElement=function(t){h(this,t,{get:function(){return this.get(t)},set:function(n){this.set(t,n)},configurable:!0,enumerable:!0})},d.prototype.deleteElement=function(){this.hasOwnProperty(this.length-1)&&delete this[this.length-1]},["push","unshift"].forEach(function(t){d.prototype[t]=function(n){this.__data[t](n),this.assignElement(this.length-1),this.dispatchEvent(t,n)}}),["pop","shift"].forEach(function(t){d.prototype[t]=function(){this.dispatchEvent(t,this.__data["pop"===t?this.length-1:0]),this.deleteElement(),this.__data[t]()}}),d.prototype.toArray=function(t){return t?this.__data:F(this.__data)},d.prototype.splice=function(t,n,e){(!z(t)||t<0)&&(t=0),t>=this.length&&(t=this.length),(!z(n)||n<0)&&(n=0),n+t>this.length&&(n=this.length-t);for(var r=[],i=t;i<t+n;i++)r.push(F(this.get(i)));for(var o=Array.prototype.slice.call(arguments,2),u=o.length,a=Math.min(n,u),f=t;f<t+a;f++)this.set(f,o[f-t]);if(n!==u){var s;n>u?(s=[t+u,n-u],Array.prototype.splice.apply(this.__data,s)):(s=[t+n,0].concat(o.slice(n)),Array.prototype.splice.apply(this.__data,s)),this.dispatchEvent.apply(this,["splice"].concat(s))}},d.prototype.forEach=function(t){for(var n=0;n<this.length&&!1!==t(this.get(n),n);n++);},["reverse","sort"].forEach(function(t){d.prototype[t]=function(){var n=F(this.__data);Array.prototype[t].apply(n,arguments);for(var e=0;e<this.length;e++)this.set(e,n[e])}}),["slice","concat","filter","map","reduce","indexOf","find","findIndex","fill","join"].forEach(function(t){d.prototype[t]=function(){return Array.prototype[t].apply(this.toArray(),arguments)}});var nt={attrPrefix:"m-",refBeginsWithDollar:!0,attrsFlag:"attrs."},et={value:"value",checked:"checked",innertext:"innerText",innerhtml:"innerHTML","class":"className",style:"style.cssText"},rt={each11:/^\s*(\$([a-zA-Z$_][0-9a-zA-Z$_]*))\s+in\s+(\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*)\s*$/,each12:/^\s*\(\s*(\$([a-zA-Z$_][0-9a-zA-Z$_]*))\s*,\s*(\$([a-zA-Z$_][0-9a-zA-Z$_]*))\s*\)\s+in\s+(\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*)\s*$/,each21:/^\s*(([a-zA-Z$_][0-9a-zA-Z$_]*))\s+in\s+(([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*)\s*$/,each22:/^\s*\(\s*(([a-zA-Z$_][0-9a-zA-Z$_]*))\s*,\s*(([a-zA-Z$_][0-9a-zA-Z$_]*))\s*\)\s+in\s+(([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*)\s*$/},it={domBoundFlag:"__dmd_bound",domListKey:"__dmd_key"},ot={input:!0,select:!0},ut=function(t,n){N.call(this,t,n)};return ut.kernel=a,ut.relate=s,ut.$=p,ut});
//# sourceMappingURL=domod.min.js.map
