!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.domod=e()}(this,function(){"use strict";function n(n,e,t,r){n.addEventListener?n.addEventListener(e,t,!!r):("input"===e&&(e="propertychange"),n.attachEvent("on"+e,t))}function e(n,t,r){t=t||function(){return!0};var u={};return M(n,function(n,o){if(O(n)&&!t(n)){var i=e(n,t,r);M(i,function(n,e){u[o+"."+e]=n})}else!t(n)&&r||(u[o]=n)}),u}function t(n,e){if(e===undefined&&(e=F),!O(e)&&!j(e)||!b(n))return null;for(var t=e,r=n.split(".");r.length>=1;){if(1===r.length)return{target:t,property:r[0]};if(t=t[r.shift()],!O(t)&&!j(t))return null}return null}function r(n,e){var o=t(n,e);if(!o)return null;var i=u(n,e);if(!z[i])return o.target[o.property];var f=z[i].f.apply(F,z[i].deps.map(function(n){return r(n)}));return o.target[o.property]=f,f}function u(n,e){return e===undefined?n:o(e)+"."+n}function o(n){if(!O(n)&&!j(n))return null;if(!n.__kernel_root){var e="kr_"+g();j(n)?n.__kernel_root=e:Object.defineProperty(n,"__kernel_root",{value:e}),F[e]=n}return n.__kernel_root}function i(n,e){return(O(n)||b(n))&&(n=[n]),m(n)?n.map(function(n){return O(n)?o(n.root)+"."+n.alias:b(n)?o(e)+"."+n:null}):[]}function f(n){return S[n]===undefined?0:S[n].length}function a(n,e,u){var a=t(e,n);if(null!=a){var c=o(n)+"."+e,l=c+"#"+f(c);Object.defineProperty(this,"__kid",{value:l}),R[this.__kid]=1;var s=a.target[a.property];S[c]===undefined&&(S[c]=[],P(a.target,a.property)&&delete a.target[a.property]),S[c].push(1);var p=i(u.dnstream),d=u.resultIn,h=i(u.upstream),v=u.resultFrom,y=!!u.lazy;P(u,"value")&&(s=u.value),I[c]||(I[c]={}),p.forEach(function(n){C[n]||(C[n]={}),C[n][c]||(C[n][c]={}),C[n][c][l]=1,I[c][n]||(I[c][n]={}),I[c][n][l]=1}),A[c]||(A[c]=[]),A[c].push(E(d)?d:null),C[c]||(C[c]={}),h.forEach(function(n){C[c][n]||(C[c][n]={}),C[c][n][l]=1,I[n]||(I[n]={}),I[n][c]||(I[n][c]={}),I[n][c][l]=1}),E(v)&&(z[c]={f:v,k:this.__kid,deps:h}),y&&(L[c]=!0),1===S[c].length&&(j(a.target)?E(v)&&(a.target[a.property]=v()):(Object.defineProperty(a.target,a.property,{get:function(){return z[c]&&0!==R[z[c].k]?r(c):s},set:function(e){e!==s&&(s=e,A[c]&&A[c].forEach(function(t,r){t&&0!==R[c+"#"+r]&&t.apply(n,[e])}),I[c]&&M(I[c],function(n,e){var t=!1;M(n,function(n,e){if(0!==R[e])return t=!0,!1}),t&&z[e]&&!L[e]&&r(e)}))},enumerable:!0}),a.target[a.property]))}}function c(n){if(!O(n))return!1;var e=!0,t={__isRelation:2,dnstream:1,resultIn:1,upstream:1,resultFrom:1,lazy:!0,value:!0},r=0;return M(n,function(n,u){return 2===t[u]?(e=!0,r++,!1):t[u]?void(1===t[u]&&r++):(e=!1,!1)}),e&&r>0}function l(n,t){var r;if(1===arguments.length){if(!O(n))return null;r=e(n,c,!0)}else{if(!O(t))return null;r=e(t,c,!0)}return M(r,function(e,t){new a(n,t,e)}),n}function s(e,t){if(j(e)&&O(t))if(e.nodeType!==Node.ELEMENT_NODE||e[U.domBoundFlag]){if(e.nodeType===Node.TEXT_NODE){var r=y(e.nodeValue).join(";");if(""===r)return;l(t,_(r,t,e,"nodeValue",function(){return h(e.nodeValue,t)}))}}else e[U.domBoundFlag]=!0,M(e.attributes,function(r,u){if(u.startsWith(U.attrPrefix))switch(u=u.substr(U.attrPrefix.length).toLowerCase()){case"value":n(e,"input",function(n){x(t,r,this.value)},!1),l(t,_(r,t,e,u));break;case"innertext":case"innerhtml":l(t,_(r,t,e,"innertext"===u?"innerText":"innerHTML"));break;case"class":l(t,_(r,t,e,"className",function(){var n=p(r,t),e=[];return O(n)?M(n,function(n,t){n&&e.push(t)}):m(n)&&M(n,function(n){b(n)?e.push(n):O(n)&&M(n,function(n,t){n&&e.push(t)})}),e.join(" ")}));break;case"style":l(t,_(r,t,e,"style.cssText",function(){var n=p(r,t),e=[];return O(n)&&M(n,function(n,t){e.push(t+":"+n)}),e.join(";")}));break;default:var o=D(u);if(o)n(e,o,function(n){new Function(["e"].concat(Object.keys(t)).join(","),r).apply(e,Object.values(t))},!1);else{var i=function(n){e.setAttribute(u,new Function(Object.keys(t).join(","),"return "+r).apply(e,Object.values(t)))},f={};M(v(r),function(n){f[n]={resultIn:i}}),l(t,f)}}}),M(e,function(n){s(n,t)})}function p(n,e){n=d(n);var t=Object.keys(e),r=Object.values(e);M(r,function(n,t){E(n)&&(r[t]=n.bind(e))});var u=null;try{u=new Function(t.join(","),"return "+n).apply(e,r)}catch(o){}return u}function d(n){var e=/{{([^{}]*)}}/g;return n.replace(e,function(n,e){return"' + ("+e+") + '"})}function h(n,e){var t=/{{([^{}]*)}}/g;return n.replace(t,function(n,t){return p(t,e)})}function v(n){var e=/([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g;return(n=";"+n+";").match(e)}function y(n){var e=/{{([^{}]*)}}/g,t=[];return n.replace(e,function(n,e){return t.push(e),""}),t}function _(n,e,t,r,u){var o=function(){x(t,r,(u||function(){return p(n,e)})())},i={};return function(n,e){var t={};return M(v(n),function(n){t[n]=x(e,n)}),w(t)}(n,e).forEach(function(n){i[n]={resultIn:o}}),o(),i}var g=function(){var n=0;return function(){return n++}}(),N=function(n){var e=parseInt(n);return!isNaN(e)&&(("number"==typeof n||"string"==typeof n)&&e==n)},b=function(n){return"string"==typeof n},E=function(n){return"function"==typeof n},O=function(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)},m=function(n){return"[object Array]"===Object.prototype.toString.call(n)},k=function(n){return null==n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||"function"==typeof n},j=function(n){return"function"==typeof Node&&n instanceof Node},T=function(n){return n instanceof NamedNodeMap},D=function(n){return!(!b(n)||!n.startsWith("on"))&&n.substr(2)},M=function(n,e,t){if(O(n)){for(var r in n)if(n.hasOwnProperty(r)&&!1===(a=e(n[r],r)))break}else if(m(n))if(t)for(u=n.length-1;u>=0&&!1!==(a=e(n[u],u));u--);else for(var u=0,o=n.length;u<o&&!1!==(a=e(n[u],u));u++);else if(j(n)){var i=!1;switch(n.nodeType){case Node.ELEMENT_NODE:break;case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.DOCUMENT_NODE:case Node.DOCUMENT_TYPE_NODE:case Node.DOCUMENT_FRAGMENT_NODE:default:i=!0}if(i)return;for(var u=0,f=n.childNodes,o=n.childNodes.length;u<o;u++)e(f[u]),M(f[u],e)}else if(T(n))for(var u=0,o=n.length;u<o;u++){var a=e(n[u].nodeValue,n[u].nodeName);if(!1===a)break}else n&&E(n.forEach)&&n.forEach(e)},P=function(n,e){if(O(n))return n.hasOwnProperty(e);if(m(n)){var t=parseInt(e);return N(e)&&n.length>t&&t>=0}return!1},w=function(n){var e=[];return M(n,function(n,t){if(O(n)){var r=w(n);M(r,function(n,r){e.push(t+"."+r)})}else e.push(t)}),e},x=function(n,e,t){var r=arguments.length>=3,u=n,o=[];if(e&&(o=e.split(".")),r){for(;o.length;){if(k(u))return undefined;1===o.length?u[o.shift()]=t:u=u[o.shift()]}return t}for(;o.length;){if(k(u))return undefined;u=u[o.shift()]}return u},F={},I={},A={},C={},z={},L={},S={},R={};a.prototype.disable=function(){R[this.__kid]=0},a.prototype.enable=function(){R[this.__kid]=1},a.prototype.destroy=function(){};var U={attrPrefix:"m-",domBoundFlag:"__dmd_bound"},V=function(n,e){s.call(this,n,e)};return V.kernel=a,V.relate=l,V});
//# sourceMappingURL=domod.min.js.map
