!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.domod=t()}(this,function(){"use strict";function n(n,t,e,r){n.addEventListener?n.addEventListener(t,e,!!r):("input"===t&&(t="propertychange"),n.attachEvent("on"+t,e))}function t(n,e,r){e=e||function(){return!0};var u={};return A(n,function(n,o){if(m(n)&&!e(n)){var i=t(n,e,r);A(i,function(n,t){u[o+"."+t]=n})}else!e(n)&&r||(u[o]=n)}),u}function e(n,t){if(t===undefined&&(t=P),!m(t)&&!j(t)||!b(n))return null;for(var e=t,r=n.split(".");r.length>=1;){if(1===r.length)return{target:e,property:r[0]};if(e=e[r.shift()],!m(e)&&!j(e))return null}return null}function r(n,t){var o=e(n,t);if(!o)return null;var i=u(n,t);if(!I[i])return o.target[o.property];var f=I[i].f.apply(P,I[i].deps.map(function(n){return r(n)}));return o.target[o.property]=f,f}function u(n,t){return t===undefined?n:o(t)+"."+n}function o(n){if(!m(n)&&!j(n))return null;if(!n.__kernel_root){var t="kr_"+g();j(n)?n.__kernel_root=t:Object.defineProperty(n,"__kernel_root",{value:t}),P[t]=n}return n.__kernel_root}function i(n,t){return(m(n)||b(n))&&(n=[n]),O(n)?n.map(function(n){return m(n)?o(n.root)+"."+n.alias:b(n)?o(t)+"."+n:null}):[]}function f(n){return C[n]===undefined?0:C[n].length}function a(n,t,u){var a=e(t,n);if(null!=a){var c=o(n)+"."+t,l=c+"#"+f(c);Object.defineProperty(this,"__kid",{value:l}),L[this.__kid]=1;var s=a.target[a.property];C[c]===undefined&&(C[c]=[],$(a.target,a.property)&&delete a.target[a.property]),C[c].push(1);var p=i(u.dnstream),d=u.resultIn,h=i(u.upstream),v=u.resultFrom,y=!!u.lazy;$(u,"value")&&(s=u.value),w[c]||(w[c]={}),p.forEach(function(n){F[n]||(F[n]={}),F[n][c]||(F[n][c]={}),F[n][c][l]=1,w[c][n]||(w[c][n]={}),w[c][n][l]=1}),x[c]||(x[c]=[]),x[c].push(E(d)?d:null),F[c]||(F[c]={}),h.forEach(function(n){F[c][n]||(F[c][n]={}),F[c][n][l]=1,w[n]||(w[n]={}),w[n][c]||(w[n][c]={}),w[n][c][l]=1}),E(v)&&(I[c]={f:v,k:this.__kid,deps:h}),y&&(Z[c]=!0),1===C[c].length&&(j(a.target)?E(v)&&(a.target[a.property]=v()):(Object.defineProperty(a.target,a.property,{get:function(){return I[c]&&0!==L[I[c].k]?r(c):s},set:function(t){t!==s&&(s=t,x[c]&&x[c].forEach(function(e,r){e&&0!==L[c+"#"+r]&&e.apply(n,[t])}),w[c]&&A(w[c],function(n,t){var e=!1;A(n,function(n,t){if(0!==L[t])return e=!0,!1}),e&&I[t]&&!Z[t]&&r(t)}))},enumerable:!0}),a.target[a.property]))}}function c(n){if(!m(n))return!1;var t=!0,e={__isRelation:2,dnstream:1,resultIn:1,upstream:1,resultFrom:1,lazy:!0,value:!0},r=0;return A(n,function(n,u){return 2===e[u]?(t=!0,r++,!1):e[u]?void(1===e[u]&&r++):(t=!1,!1)}),t&&r>0}function l(n,e){var r;if(1===arguments.length){if(!m(n))return null;r=t(n,c,!0)}else{if(!m(e))return null;r=t(e,c,!0)}return A(r,function(t,e){new a(n,e,t)}),n}function s(t,e){if(j(t)&&m(e))if(t.nodeType!==Node.ELEMENT_NODE||t[R.domBoundFlag]){if(t.nodeType===Node.TEXT_NODE){var r=t.nodeValue,u=y(r).join(";");if(""===u)return;l(e,_(u,e,t,"nodeValue",function(){return h(r,e)}))}}else t[R.domBoundFlag]=!0,A(t.attributes,function(r,u){if(u.startsWith(R.attrPrefix))switch(u=u.substr(R.attrPrefix.length).toLowerCase()){case"value":n(t,"input",function(n){M(e,S?r.substr(1):r,this.value)},!1),l(e,_(r,e,t,u));break;case"innertext":case"innerhtml":l(e,_(r,e,t,"innertext"===u?"innerText":"innerHTML"));break;case"class":l(e,_(r,e,t,"className",function(){var n=p(r,e),t=[];return m(n)?A(n,function(n,e){n&&t.push(e)}):O(n)&&A(n,function(n){b(n)?t.push(n):m(n)&&A(n,function(n,e){n&&t.push(e)})}),t.join(" ")}));break;case"style":l(e,_(r,e,t,"style.cssText",function(){var n=p(r,e),t=[];return m(n)&&A(n,function(n,e){t.push(e+":"+n)}),t.join(";")}));break;default:var o=D(u),i=Object.keys(e);if(S&&(i=i.map(function(n){return"$"+n})),o)n(t,o,function(n){new Function(["e"].concat(i).join(","),r).apply(t,Object.values(e))},!1);else{var f=function(n){t.setAttribute(u,new Function(i.join(","),"return "+r).apply(t,Object.values(e)))},a={};A(v(r),function(n){a[n]={resultIn:f}}),l(e,a)}}}),A(t,function(n){s(n,e)})}function p(n,t){n=d(n);var e=Object.keys(t);S&&(e=e.map(function(n){return"$"+n}));var r=Object.values(t);A(r,function(n,e){E(n)&&(r[e]=n.bind(t))});var u=null;try{u=new Function(e.join(","),"return "+n).apply(t,r)}catch(o){}return u}function d(n){var t=/{{([^{}]*)}}/g;return n.replace(t,function(n,t){return"' + ("+t+") + '"})}function h(n,t){var e=/{{([^{}]*)}}/g;return n.replace(e,function(n,e){return p(e,t)})}function v(n){n=";"+n+";";var t;return S?(t=/\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g,n.match(t).map(function(n){return n.substr(1)})):(t=/([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g,n.match(t))}function y(n){var t=/{{([^{}]*)}}/g,e=[];return n.replace(t,function(n,t){return e.push(t),""}),e}function _(n,t,e,r,u){var o=function(){M(e,r,(u||function(){return p(n,t)})())},i={};return function(n,t){var e={};return A(v(n),function(n){e[n]=M(t,n)}),z(e)}(n,t).forEach(function(n){i[n]={resultIn:o}}),o(),i}var g=function(){var n=0;return function(){return n++}}(),N=function(n){var t=parseInt(n);return!isNaN(t)&&(("number"==typeof n||"string"==typeof n)&&t==n)},b=function(n){return"string"==typeof n},E=function(n){return"function"==typeof n},m=function(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)},O=function(n){return"[object Array]"===Object.prototype.toString.call(n)},k=function(n){return null==n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||"function"==typeof n},j=function(n){return"function"==typeof Node&&n instanceof Node},T=function(n){return n instanceof NamedNodeMap},D=function(n){return!(!b(n)||!n.startsWith("on"))&&n.substr(2)},A=function(n,t,e){if(m(n)){for(var r in n)if(n.hasOwnProperty(r)&&!1===(a=t(n[r],r)))break}else if(O(n))if(e)for(u=n.length-1;u>=0&&!1!==(a=t(n[u],u));u--);else for(var u=0,o=n.length;u<o&&!1!==(a=t(n[u],u));u++);else if(j(n)){var i=!1;switch(n.nodeType){case Node.ELEMENT_NODE:break;case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.DOCUMENT_NODE:case Node.DOCUMENT_TYPE_NODE:case Node.DOCUMENT_FRAGMENT_NODE:default:i=!0}if(i)return;for(var u=0,f=n.childNodes,o=n.childNodes.length;u<o;u++)t(f[u]),A(f[u],t)}else if(T(n))for(var u=0,o=n.length;u<o;u++){var a=t(n[u].nodeValue,n[u].nodeName);if(!1===a)break}else n&&E(n.forEach)&&n.forEach(t)},$=function(n,t){if(m(n))return n.hasOwnProperty(t);if(O(n)){var e=parseInt(t);return N(t)&&n.length>e&&e>=0}return!1},z=function(n){var t=[];return A(n,function(n,e){if(m(n)){var r=z(n);A(r,function(n,r){t.push(e+"."+r)})}else t.push(e)}),t},M=function(n,t,e){var r=arguments.length>=3,u=n,o=[];if(t&&(o=t.split(".")),r){for(;o.length;){if(k(u))return undefined;1===o.length?u[o.shift()]=e:u=u[o.shift()]}return e}for(;o.length;){if(k(u))return undefined;u=u[o.shift()]}return u},P={},w={},x={},F={},I={},Z={},C={},L={};a.prototype.disable=function(){L[this.__kid]=0},a.prototype.enable=function(){L[this.__kid]=1},a.prototype.destroy=function(){};var S=!0,R={attrPrefix:"m-",domBoundFlag:"__dmd_bound"},U=function(n,t){s.call(this,n,t)};return U.kernel=a,U.relate=l,U});
//# sourceMappingURL=domod.min.js.map
