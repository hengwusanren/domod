!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.domod=e()}(this,function(){"use strict";function n(n,e,t,r){n.addEventListener?n.addEventListener(e,t,!!r):("input"===e&&(e="propertychange"),n.attachEvent("on"+e,t))}function e(n,t,r){t=t||function(){return!0};var u={};return $(n,function(n,o){if(O(n)&&!t(n)){var i=e(n,t,r);$(i,function(n,e){u[o+"."+e]=n})}else!t(n)&&r||(u[o]=n)}),u}function t(n,e,t,u){L?Object.defineProperty(n,e,t):("value"in t&&(n[e]=t.value),u=u||r(e,n),!W[u]&&("get"in t||"set"in t)&&(W[u]={}),"get"in t&&(W[u].get=t.get),"set"in t&&(W[u].set=t.set))}function r(n,e){if(e===undefined)return n;var t=u(e);return null==t?n||"":t+(n?"."+n:"")}function u(n){if(n===I||!O(n)&&!j(n))return null;if(!n.__kernel_root){var e="kr_"+N();j(n)?n.__kernel_root=e:t(n,"__kernel_root",{value:e}),I[e]=n}return n.__kernel_root}function o(n,e){return(O(n)||E(n))&&(n=[n]),k(n)?n.map(function(n){return O(n)?u(n.root)+"."+n.alias:E(n)?u(e)+"."+n:null}):[]}function i(n){return Z[n]===undefined?0:Z[n].length}function f(n,e,r){var f,a={};if(L){if(null==(a=l(e,n)))return;f=a.target[a.property]}var c=u(n)+"."+e,p=c+"#"+i(c);t(this,"__kid",{value:p}),C[this.__kid]=1,Z[c]===undefined&&(Z[c]=[],L&&x(a.target,a.property)&&delete a.target[a.property]),Z[c].push(1);var d=o(r.dnstream,n),v=r.resultIn,h=o(r.upstream,n),_=r.resultFrom,g=!!r.lazy;M[c]||(M[c]={}),d.forEach(function(n){F[n]||(F[n]={}),F[n][c]||(F[n][c]={}),F[n][c][p]=1,M[c][n]||(M[c][n]={}),M[c][n][p]=1}),w[c]||(w[c]=[]),w[c].push(m(v)?v:null),F[c]||(F[c]={}),h.forEach(function(n){F[c][n]||(F[c][n]={}),F[c][n][p]=1,M[n]||(M[n]={}),M[n][c]||(M[n][c]={}),M[n][c][p]=1}),m(_)&&(P[c]={f:_,k:this.__kid,deps:h}),g&&(B[c]=!0),1===Z[c].length&&t(a.target,a.property,{get:function(n,e){if(P[c]&&0!==C[P[c].k]){var t=P[c].f.apply(null,P[c].deps.map(function(n){return s(null,n)}));s(null,c,t),f=t}else L||(e!==undefined?f=n[e]:(a=l(c),f=a.target[a.property]));return f},set:function(e,t,r){e!==f&&(f=e,L||(r!==undefined?t[r]=e:(a=l(c)).target[a.property]=e),w[c]&&w[c].forEach(function(t,r){t&&0!==C[c+"#"+r]&&t.apply(n,[e])}),M[c]&&$(M[c],function(n,e){var t=!1;$(n,function(n,e){if(0!==C[e])return t=!0,!1}),t&&P[e]&&!B[e]&&s(null,e)}))},enumerable:!0},c),x(r,"value")&&s(null,c,r.value)}function a(n){if(!O(n))return!1;var e=!0,t={__isRelation:2,dnstream:1,resultIn:1,upstream:1,resultFrom:1,lazy:!0,value:!0},r=0;return $(n,function(n,u){return 2===t[u]?(e=!0,r++,!1):t[u]?void(1===t[u]&&r++):(e=!1,!1)}),e&&r>0}function c(n,t){var r;if(1===arguments.length){if(!O(n))return null;r=e(n,a,!0)}else{if(!O(t))return null;r=e(t,a,!0)}return $(r,function(e,t){new f(n,t,e)}),n}function l(n,e){if(e===undefined&&(e=I),!O(e)&&!j(e)||!E(n))return null;var t=r(n,e),u=t.lastIndexOf(".");return{target:s(null,t.substring(0,u)),property:t.substring(u+1)}}function s(n,e,t){n=n||I;var u=arguments.length>=3,o=n,i=r(null,n),f=[];e&&(f=e.split("."));for(var a;f.length;){if(T(o))return undefined;a=f.shift(),i+=(""===i?"":".")+a,u&&0===f.length?(!L&&W[i]&&W[i].set&&W[i].set(t,o,a),o[a]=t):o=!L&&W[i]&&W[i].get?W[i].get(o,a):o[a]}return u?t:o}function p(e,t){if(j(e)&&O(t))if(e.nodeType!==Node.ELEMENT_NODE||e[S.domBoundFlag]){if(e.nodeType===Node.TEXT_NODE){var r=e.nodeValue,u=g(r).join(";");if(""===u)return;c(t,y(u,t,e,"nodeValue",function(){return h(r,t)}))}}else{e[S.domBoundFlag]=!0;var o=[];$(e.attributes,function(r,u){if(u.startsWith(S.attrPrefix))switch(o.push(u),u=u.substr(S.attrPrefix.length).toLowerCase()){case"value":n(e,"input",function(n){s(t,S.refBeginsWithDollar?r.substr(1):r,this.value)},!1),c(t,y(r,t,e,u));break;case"innertext":case"innerhtml":c(t,y(r,t,e,"innertext"===u?"innerText":"innerHTML"));break;case"class":c(t,y(r,t,e,"className",function(){var n=d(r,t),e=[];return O(n)?$(n,function(n,t){n&&e.push(t)}):k(n)&&$(n,function(n){E(n)?e.push(n):O(n)&&$(n,function(n,t){n&&e.push(t)})}),e.join(" ")}));break;case"style":c(t,y(r,t,e,"style.cssText",function(){var n=d(r,t),e=[];return O(n)&&$(n,function(n,t){e.push(t+":"+n)}),e.join(";")}));break;default:var i=A(u),f=Object.keys(t);if(S.refBeginsWithDollar&&(f=f.map(function(n){return"$"+n})),i)n(e,i,function(n){new Function(["e"].concat(f).join(","),r).apply(e,Object.values(t))},!1);else{var a=function(n){e.setAttribute(u,new Function(f.join(","),"return "+r).apply(e,Object.values(t)))},l={};$(_(r),function(n){l[n]={resultIn:a}}),c(t,l)}}}),$(o,function(n){e.removeAttribute(n)}),$(e,function(n){p(n,t)})}}function d(n,e){n=v(n);var t=Object.keys(e);S.refBeginsWithDollar&&(t=t.map(function(n){return"$"+n}));var r=Object.values(e);$(r,function(n,t){m(n)&&(r[t]=n.bind(e))});var u=null;try{u=new Function(t.join(","),"return "+n).apply(e,r)}catch(o){}return u}function v(n){var e=/{{([^{}]*)}}/g;return n.replace(e,function(n,e){return"' + ("+e+") + '"})}function h(n,e){var t=/{{([^{}]*)}}/g;return n.replace(t,function(n,t){return d(t,e)})}function _(n){n=";"+n+";";var e;return S.refBeginsWithDollar?(e=/\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g,n.match(e).map(function(n){return n.substr(1)})):(e=/([a-zA-Z$_][0-9a-zA-Z$_]*)(\.[a-zA-Z$_][0-9a-zA-Z$_]*)*/g,n.match(e))}function g(n){var e=/{{([^{}]*)}}/g,t=[];return n.replace(e,function(n,e){return t.push(e),""}),t}function y(n,e,t,r,u){var o=function(){s(t,r,(u||function(){return d(n,e)})())},i={};return function(n,e){var t={};return $(_(n),function(n){t[n]=s(e,n)}),z(t)}(n,e).forEach(function(n){i[n]={resultIn:o}}),o(),i}var N=function(){var n=0;return function(){return n++}}(),b=function(n){var e=parseInt(n);return!isNaN(e)&&(("number"==typeof n||"string"==typeof n)&&e==n)},E=function(n){return"string"==typeof n},m=function(n){return"function"==typeof n},O=function(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)},k=function(n){return"[object Array]"===Object.prototype.toString.call(n)},T=function(n){return null==n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||"function"==typeof n},j=function(n){return"function"==typeof Node&&n instanceof Node},D=function(n){return n instanceof NamedNodeMap},A=function(n){return!(!E(n)||!n.startsWith("on"))&&n.substr(2)},$=function(n,e,t){var r,u;if(O(n)){for(var o in n)if(n.hasOwnProperty(o)&&!1===e(n[o],o))break}else if(k(n))if(t)for(r=n.length-1;r>=0&&!1!==e(n[r],r);r--);else for(r=0,u=n.length;r<u&&!1!==e(n[r],r);r++);else if(j(n)){var i=!1;switch(n.nodeType){case Node.ELEMENT_NODE:break;case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.DOCUMENT_NODE:case Node.DOCUMENT_TYPE_NODE:case Node.DOCUMENT_FRAGMENT_NODE:default:i=!0}if(i)return;var f=n.childNodes;for(r=0,u=f.length;r<u;r++)e(f[r]),$(f[r],e)}else if(D(n))for(r=0,u=n.length;r<u&&!1!==e(n[r].nodeValue,n[r].nodeName);r++);else n&&m(n.forEach)&&n.forEach(e)},x=function(n,e){if(O(n))return n.hasOwnProperty(e);if(k(n)){var t=parseInt(e);return b(e)&&n.length>t&&t>=0}return!1},z=function(n){var e=[];return $(n,function(n,t){if(O(n)){var r=z(n);$(r,function(n,r){e.push(t+"."+r)})}else e.push(t)}),e},I={},M={},w={},F={},P={},B={},Z={},C={},W={},L=(Object.defineProperty,!1);f.prototype.disable=function(){C[this.__kid]=0},f.prototype.enable=function(){C[this.__kid]=1},f.prototype.destroy=function(){};var S={attrPrefix:"m-",domBoundFlag:"__dmd_bound",refBeginsWithDollar:!0},R=function(n,e){p.call(this,n,e)};return R.kernel=f,R.relate=c,R.$=s,R});
//# sourceMappingURL=domod.min.js.map
