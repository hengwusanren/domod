{"version":3,"file":"ObservableArray.js","sources":["../src/Util.js","../src/ObservableArray.js"],"sourcesContent":["var gid = (function () {\n    var n = 0;\n    return function () {\n        return n++;\n    };\n})();\n\nvar isBoolean = function (v) {\n    return typeof v === 'boolean';\n};\n\nvar isNumber = function (v) {\n    return typeof v === 'number';\n};\n\nvar isNumeric = function (v) {\n    var n = parseInt(v);\n    if (isNaN(n)) return false;\n    return (typeof v === 'number' || typeof v === 'string') && n == v;\n};\n\nvar isString = function (v) {\n    return typeof v === 'string';\n};\n\nvar isFunction = function (v) {\n    return typeof v === 'function';\n};\n\nvar isObject = function (v) {\n    return Object.prototype.toString.call(v) === '[object Object]';\n};\n\nvar isArray = function (v) {\n    return Object.prototype.toString.call(v) === '[object Array]';\n};\n\nvar isBasic = function (v) {\n    return v == null\n        || typeof v === 'boolean'\n        || typeof v === 'number'\n        || typeof v === 'string'\n        || typeof v === 'function';\n};\n\nvar isInstance = function (v, creator) {\n    return typeof creator === 'function' && v instanceof creator;\n};\n\nvar isDirectInstance = function (v, creator) {\n    return v.constructor === creator;\n};\n\nvar isNode = function (v) {\n    return v instanceof Node;\n};\n\nvar isNamedNodeMap = function (v) {\n    return v instanceof NamedNodeMap;\n};\n\nvar isEventName = function (v) {\n    if (!isString(v)) return false;\n    return v.startsWith('on'); // TODO\n};\n\nvar isCSSSelector = function (v) {\n    return v.indexOf(' ') > 0 || v.indexOf('.') >= 0\n        || v.indexOf('[') >= 0 || v.indexOf('#') >= 0;\n};\n\nvar each = function (v, func, arrayReverse) {\n    if (isObject(v)) {\n        for (var p in v) {\n            if (!v.hasOwnProperty(p)) continue;\n            var r = func(v[p], p);\n            if (r === false) break;\n        }\n    } else if (isArray(v)) {\n        if (!arrayReverse) {\n            for (var i = 0, len = v.length; i < len; i++) {\n                var r = func(v[i], i);\n                if (r === false) break;\n            }\n        } else {\n            for (var i = v.length - 1; i >= 0; i--) {\n                var r = func(v[i], i);\n                if (r === false) break;\n            }\n        }\n    } else if (isNode(v)) {\n        var ret = false;\n        switch (v.nodeType) {\n            case Node.ELEMENT_NODE:\n                break;\n            case Node.TEXT_NODE:\n            case Node.COMMENT_NODE:\n            case Node.PROCESSING_INSTRUCTION_NODE:\n            case Node.DOCUMENT_NODE:\n            case Node.DOCUMENT_TYPE_NODE:\n            case Node.DOCUMENT_FRAGMENT_NODE:\n            default:\n                ret = true;\n        }\n        if (ret) return;\n        for (var i = 0, childNodes = v.childNodes, len = v.childNodes.length; i < len; i++) {\n            func(childNodes[i]);\n            each(childNodes[i], func);\n        }\n    } else if (isNamedNodeMap(v)) {\n        for (var i = 0, len = v.length; i < len; i++) {\n            var r = func(v[i]['nodeValue'], v[i]['nodeName']);\n            if (r === false) break;\n        }\n    } else if (Util.isFunction(v.forEach)) {\n        v.forEach(func);\n    }\n};\n\nvar eachUnique = function (arr, func) {\n    if (!isArray(arr)) return;\n    var map = {};\n    for (var i = 0, len = arr.length; i < len; i++) {\n        if (!isNumber(arr[i]) || !isString(arr[i]) || map[arr[i]]) continue;\n        map[arr[i]] = true;\n        var r = func(arr[i]);\n        if (r === false) break;\n    }\n};\n\nvar unique = function (arr) {\n    var r = [];\n    eachUnique(arr, function (v) {\n        r.push(v);\n    });\n    return r;\n};\n\nvar clone = function (val) {\n    var r = val;\n    if (isObject(val)) {\n        r = {};\n        each(val, function (v, p) {\n            r[p] = clone(v);\n        });\n    } else if (isArray(val)) {\n        r = [];\n        each(val, function (v) {\n            r.push(clone(v));\n        });\n    }\n    return r;\n};\n\nvar hasProperty = function (val, p) {\n    if (isObject(val)) {\n        return val.hasOwnProperty(p);\n    } else if (isArray(val)) {\n        var n = parseInt(p);\n        return isNumeric(p) && val.length > n && n >= 0;\n    }\n    return false;\n};\n\nvar clear = function (val, p, withBasicVal) {\n    var inRef = isString(p) || isNumber(p);\n    var target = inRef ? val[p] : val;\n\n    if (isObject(target) || isArray(target)) {\n        each(target, function (v, p) {\n            clear(target, p);\n        });\n        if (isArray(target)) {\n            shrinkArray(target);\n        }\n    }\n\n    if (inRef) {\n        val[p] = withBasicVal;\n    }\n};\n\nvar shrinkArray = function (arr, len) {\n    var limited = isNumber(len);\n    if (!limited) {\n        each(arr, function (v, i) {\n            if (v === undefined) arr.length--;\n        }, true);\n    } else {\n        each(arr, function (v, i) {\n            if (i >= len) arr.length--;\n            else return false;\n        }, true);\n        while (arr.length < len) {\n            arr.push(null);\n        }\n    }\n    return arr;\n};\n\nvar touchLeaves = function (obj) {\n    each(obj, function (v, p) {\n        if (isBasic(v)) {\n            obj[p] = v;\n        } else {\n            touchLeaves(v);\n        }\n    });\n};\n\nvar extend = function (dest, srcs, clean) {\n    if (!isObject(dest)) return null;\n    var args = Array.prototype.slice.call(arguments, 1,\n        arguments[arguments.length - 1] === true ? (arguments.length - 1) : arguments.length);\n\n    function extendObj(obj, src, clean) {\n        if (!isObject(src)) return;\n        each(src, function (v, p) {\n            if (!hasProperty(obj, p) || isBasic(v)) {\n                if (obj[p] !== v) {\n                    obj[p] = clone(v);\n                }\n            } else {\n                extendObj(obj[p], v, clean);\n            }\n        });\n        if (clean) {\n            each(obj, function (v, p) {\n                if (!hasProperty(src, p)) {\n                    clear(obj, p);\n                }\n            });\n            if (isArray(obj)) {\n                shrinkArray(obj);\n            }\n        }\n    }\n\n    each(args, function (src) {\n        extendObj(dest, src, clean);\n    });\n    return dest;\n};\n\nexport {\n    gid,\n    isBoolean,\n    isNumber,\n    isNumeric,\n    isString,\n    isFunction,\n    isObject,\n    isArray,\n    isBasic,\n    isInstance,\n    isDirectInstance,\n    isNode,\n    isNamedNodeMap,\n    isEventName,\n    isCSSSelector,\n    each,\n    eachUnique,\n    unique,\n    clone,\n    hasProperty,\n    clear,\n    shrinkArray,\n    touchLeaves,\n    extend\n}\n","import * as Util from './Util'\n\nvar canUseProxy = typeof Proxy === 'function';\n\nvar eventNames = ['set', 'push', 'pop', 'unshift', 'shift', 'splice'];\n\nvar OArray = function (arr, option) {\n    if (!Util.isArray(arr)) arr = [];\n\n    var _this = this;\n\n    Object.defineProperty(this, '__data', {\n        value: arr\n    });\n\n    eventNames.forEach(function (e) {\n        Object.defineProperty(_this, 'on' + e, { value: [] });\n    });\n\n    Object.defineProperty(this, 'length', {\n        get: function () {\n            return arr.length;\n        },\n        set: function (v) {\n            arr.length = v;\n        }\n    });\n\n    Util.each(arr, function (v, i) {\n        _this.assignElement(i, v);\n    });\n};\n\nOArray.prototype = [];\nOArray.prototype.constructor = OArray;\n\nOArray.prototype.addEventListener = function (eventName, handler) {\n    if (!this['on' + eventName] || !Util.isFunction(handler)) return;\n    this['on' + eventName].push(handler);\n};\nOArray.prototype.removeEventListener = function (eventName, handler) {\n    var _this = this;\n    if (!this['on' + eventName] || !Util.isFunction(handler)) return;\n    var handlers = this['on' + eventName];\n    Util.each(handlers, function (h, i) {\n        if (h === handler) {\n            handlers.splice(i, 1);\n            return false;\n        }\n    });\n};\nOArray.prototype.dispatchEvent = function (eventName, data) {\n    var _this = this;\n    var args = Array.prototype.slice.call(arguments, 1);\n    Util.each(this['on' + eventName], function (handler) {\n        handler.apply(_this, args);\n    });\n};\n\nOArray.prototype.assignElement = function (i) {\n    Object.defineProperty(this, i, {\n        get: function () {\n            return this.__data[i];\n        },\n        set: function (val) {\n            var e = this.__data[i];\n            if (Util.isBasic(e) || Util.isBasic(val)) {\n                this.dispatchEvent('set', e, val, i, this.__data);\n                e = val;\n                this.__data[i] = e;\n            } else {\n                Util.extend(e, val, true);\n            }\n        },\n        configurable: true,\n        enumerable: true\n    });\n};\n\nOArray.prototype.deleteElement = function () {\n    if (this.hasOwnProperty(this.length - 1))\n        delete this[this.length - 1];\n};\n\nOArray.prototype.push = function (v) {\n    this.__data.push(v);\n    this.assignElement(this.length - 1);\n    this.dispatchEvent('push', v);\n};\n\nOArray.prototype.pop = function (v) {\n    this.deleteElement();\n    this.__data.pop();\n    this.dispatchEvent('pop');\n};\n\nOArray.prototype.unshift = function (v) {\n    this.__data.unshift(v);\n    this.assignElement(this.length - 1);\n    this.dispatchEvent('unshift', v);\n};\n\nOArray.prototype.shift = function (v) {\n    this.deleteElement();\n    this.__data.shift();\n    this.dispatchEvent('shift');\n};\n\nOArray.prototype.toArray = function (notClone) {\n    return notClone ? this.__data : Util.clone(this.__data);\n};\n\nOArray.prototype.splice = function (startIndex, howManyToDelete, itemToInsert) {\n    if (!Util.isNumber(startIndex) || startIndex < 0) startIndex = 0;\n    if (startIndex >= this.length) startIndex = this.length;\n    if (!Util.isNumber(howManyToDelete) || howManyToDelete < 0) howManyToDelete = 0;\n    if (howManyToDelete + startIndex > this.length) howManyToDelete = this.length - startIndex;\n\n    var itemsToDelete = [];\n    for (var i = startIndex; i < startIndex + howManyToDelete; i++) {\n        itemsToDelete.push(Util.clone(this[i]));\n    }\n\n    var itemsToInsert = Array.prototype.slice.call(arguments, 2);\n    var howManyToInsert = itemsToInsert.length;\n\n    var howManyToSet = Math.min(howManyToDelete, howManyToInsert);\n    for (var i = startIndex; i < startIndex + howManyToSet; i++) {\n        this[i] = itemsToInsert[i - startIndex];\n    }\n\n    if (howManyToDelete === howManyToInsert) return;\n\n    var args;\n    if (howManyToDelete > howManyToInsert) {\n        args = [startIndex + howManyToInsert, howManyToDelete - howManyToInsert];\n        Array.prototype.splice.apply(this.__data, args);\n    } else {\n        args = [startIndex + howManyToDelete, 0].concat(itemsToInsert.slice(howManyToDelete));\n        Array.prototype.splice.apply(this.__data, args);\n    }\n    this.dispatchEvent.apply(this, ['splice'].concat(args));\n};\n\nOArray.prototype.forEach = function (fn) {\n    for (var i = 0; i < this.length; i++) {\n        var r = fn(this[i], i);\n        if (r === false) break;\n    }\n};\n\n['reverse', 'sort'].forEach(function (f) {\n    OArray.prototype[f] = function () {\n        var r = Util.clone(this.__data);\n        Array.prototype[f].apply(r, arguments);\n        for (var i = 0; i < this.length; i++) {\n            this[i] = r[i];\n        }\n    };\n});\n\n['slice', 'concat', 'filter', 'map', 'reduce',\n    'indexOf', 'find', 'findIndex', 'fill', 'join'].forEach(function (f) {\n    OArray.prototype[f] = function () {\n        return Array.prototype[f].apply(this.toArray(), arguments);\n    };\n});\n\nexport default OArray\n"],"names":["isNumber","v","isNumeric","n","parseInt","isNaN","isString","isFunction","isObject","Object","prototype","toString","call","isArray","isBasic","isNode","Node","isNamedNodeMap","NamedNodeMap","each","func","arrayReverse","p","hasOwnProperty","r","i","length","len","ret","nodeType","ELEMENT_NODE","TEXT_NODE","COMMENT_NODE","PROCESSING_INSTRUCTION_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","childNodes","Util","forEach","clone","val","push","hasProperty","clear","withBasicVal","inRef","target","shrinkArray","arr","undefined","extend","dest","srcs","clean","extendObj","obj","src","args","Array","slice","arguments","eventNames","OArray","option","Util.isArray","_this","this","defineProperty","value","e","get","set","Util.each","assignElement","constructor","addEventListener","eventName","handler","Util.isFunction","removeEventListener","handlers","h","splice","dispatchEvent","data","apply","__data","Util.isBasic","Util.extend","configurable","enumerable","deleteElement","pop","unshift","shift","toArray","notClone","Util.clone","startIndex","howManyToDelete","itemToInsert","Util.isNumber","itemsToDelete","itemsToInsert","howManyToInsert","howManyToSet","Math","min","concat","fn","f"],"mappings":"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"}