!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Kernel={})}(this,function(e){"use strict";function t(e,t){if(void 0===t&&(t=E),"kr_1.name"===e&&console.log(e,t),!p(t)||!l(e))return null;for(var n=t,r=e.split(".");r.length>=1;){if(1===r.length)return{target:n,property:r[0]};if(n=n[r.shift()],!p(n))return null}return null}function n(e,n){console.log(e,n);var r=t(e,n);return console.log(r),r?r.target[r.property]:null}function r(e){if(!p(e))return null;if(!e.__kernel_root){var t="kr_"+a();Object.defineProperty(e,"__kernel_root",{value:t}),E[t]=e}return e.__kernel_root}function o(e,t){return(p(e)||l(e))&&(e=[e]),d(e)?e.map(function(e){return p(e)?r(e.root)+"."+e.alias:l(e)?r(t)+"."+e:null}):[]}function u(e,u,i){var f=t(u,e);if(null!=f){u=r(e)+"."+u,Object.defineProperty(this,"__alias",{value:u});var a=o(i.dnstream),c=i.resultIn,l=o(i.upstream),p=i.resultFrom;a.forEach(function(e){h[e]||(h[e]={}),h[e][u]=!0,O[u]||(O[u]={}),O[u][e]=!0}),s(c)&&(g[u]=c),l.forEach(function(e){h[u]||(h[u]={}),h[u][e]=!0,O[e]||(O[e]={}),O[e][u]=!0}),s(p)&&(b[u]=p);var d=f.target[f.property];v(f.target,f.property)&&delete f.target[f.property],Object.defineProperty(f.target,f.property,{get:function(){return b[u]?b[u].apply(E,l.map(function(e){return n(e)})):d},set:function(t){t!==d&&(d=t,g[u]&&g[u].apply(e,[t]),Object.keys(O[u]).forEach(function(e){b[e]&&n(e)}))},enumerable:!0})}}function i(e){if(!p(e))return!1;var t=!0,n={dnstream:!0,resultIn:!0,upstream:!0,resultFrom:!0};return _(e,function(e,r){if(!n[r])return t=!1,!1}),t}function f(e,t){var n={};return _(e,function(e,r){if(p(e)&&!i(e)){var o=f(e,t);_(o,function(e,t){n[r+"."+t]=e})}else t&&!i(e)||(n[r]=e)}),n}var a=function(){var e=0;return function(){return e++}}(),c=function(e){var t=parseInt(e);return!isNaN(t)&&(("number"==typeof e||"string"==typeof e)&&t==e)},l=function(e){return"string"==typeof e},s=function(e){return"function"==typeof e},p=function(e){return"[object Object]"===Object.prototype.toString.call(e)},d=function(e){return"[object Array]"===Object.prototype.toString.call(e)},N=function(e){return e instanceof Node},y=function(e){return e instanceof NamedNodeMap},_=function(e,t,n){if(p(e)){for(var r in e)if(e.hasOwnProperty(r)&&!1===(a=t(e[r],r)))break}else if(d(e))if(n)for(o=e.length-1;o>=0&&!1!==(a=t(e[o],o));o--);else for(var o=0,u=e.length;o<u&&!1!==(a=t(e[o],o));o++);else if(N(e)){var i=!1;switch(e.nodeType){case Node.ELEMENT_NODE:break;case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.DOCUMENT_NODE:case Node.DOCUMENT_TYPE_NODE:case Node.DOCUMENT_FRAGMENT_NODE:default:i=!0}if(i)return;for(var o=0,f=e.childNodes,u=e.childNodes.length;o<u;o++)t(f[o]),_(f[o],t)}else if(y(e))for(var o=0,u=e.length;o<u;o++){var a=t(e[o].nodeValue,e[o].nodeName);if(!1===a)break}else Util.isFunction(e.forEach)&&e.forEach(t)},v=function(e,t){if(p(e))return e.hasOwnProperty(t);if(d(e)){var n=parseInt(t);return c(t)&&e.length>n&&n>=0}return!1},E={},O={},g={},h={},b={};u.prototype.disable=function(){},u.prototype.enable=function(){},u.prototype.destroy=function(){},e.Kernel=u,e.Relate=function(e,t){var n;if(1===arguments.length){if(!p(e))return null;n=f(e,!0)}else{if(!p(t))return null;n=f(t,!0)}_(n,function(t,n){new u(e,n,t)})},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=Kernel.js.map
