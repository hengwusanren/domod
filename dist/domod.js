!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.domod=n()}(this,function(){"use strict";function n(t,e,r){function i(t,n){var e=[],r=function(t){return t};if(o(n))e.push(n),r=function(){return w(t,n)};else if(a(n))if(s(n[n.length-1]))r=n[n.length-1],e=a(n[0])?n[0].slice(0):n.filter(function(t){return o(t)});else{var c=[];d(n,function(n){o(n)?c.push(n):f(n)&&d(n,function(n,r){var o=i(t,n);e=e.concat(o.deps);var s={};s[r]=o.calc,c.push(s)})}),r=function(){var n=[];return d(c,function(e){o(e)?n.push(e):f(e)&&d(e,function(e,r){return e.call(t)&&n.push(r),!1})}),n.join("\n")}}return{deps:e,calc:r}}function c(t,n,e){var r=i(t,n),o=v(r.deps).map(function(n){return T(t,n)}),s=r.calc;if(!e)return function(n){n(s.call(t)),d(o,function(e){e.setters.push(function(e){n(s.call(t,e))})})}}if(f(t)){A(t);var p=this;u(e)&&("active"===(f(r)?"active":"passive")?d(r,function(r,i){switch(i){case"model":c(t,r,!0)(function(){});break;case"show":c(t,r)(function(t){e.style.display=t?"block":"none"});break;case"style":c(t,r)(function(t){e.cssText=t});break;case"innerText":case"innerHTML":case"className":c(t,r)(function(t){e[i]=t});break;default:var o=parseInt(i);if(isNaN(o))if(l(i))e.addEventListener(i,r,!1);else if(h(i)){var s=Array.prototype.slice.call(e.querySelectorAll(i),0);d(s,function(e){n(t,e,r)})}else c(t,r)(function(t){e.setAttribute(i,t)});else;}}):e.nodeType===Node.ELEMENT_NODE?(d(e.attributes,function(t,n){if(n.startsWith(p.attrPrefix))switch(n=n.substr(p.attrPrefix.length)){case"model":case"show":case"text":case"html":case"class":case"style":break;default:l(n)}}),d(e,function(e){n(t,e)})):(e.nodeType,Node.TEXT_NODE))}}Array.prototype.map||(Array.prototype.map=function(t){var n,e,r;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=arguments[1]),e=new Array(o),r=0;r<o;){var s,f;r in i&&(s=i[r],f=t.call(n,s,r,i),e[r]=f),r++}return e}),Array.prototype.filter||(Array.prototype.filter=function(n,e){if("Function"!=typeof n||!this)throw new TypeError;var r=this.length>>>0,i=new Array(r),o=0,s=-1;if(void 0===e)for(;++s!==r;)if(s in this)if(n(t[s],s,t))i[o++]=t[s];else for(;++s!==r;)s in this&&n.call(e,t[s],s,t)&&(i[o++]=t[s]);return i.length=o,i});var e=function(){var t=0;return function(){return t++}}(),r=function(t){return"number"==typeof t},i=function(t){var n=parseInt(t);return!isNaN(n)&&(("number"==typeof t||"string"==typeof t)&&n==t)},o=function(t){return"string"==typeof t},s=function(t){return"function"==typeof t},f=function(t){return"[object Object]"===Object.prototype.toString.call(t)},a=function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t){return null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"function"==typeof t},u=function(t){return t instanceof Node},p=function(t){return t instanceof NamedNodeMap},l=function(t){return!!o(t)&&t.startsWith("on")},h=function(t){return t.indexOf(" ")>0||t.indexOf(".")>=0||t.indexOf("[")>=0||t.indexOf("#")>=0},d=function(t,n,e){if(f(t)){for(var r in t)if(t.hasOwnProperty(r)&&!1===(l=n(t[r],r)))break}else if(a(t))if(e)for(i=t.length-1;i>=0&&!1!==(l=n(t[i],i));i--);else for(var i=0,o=t.length;i<o&&!1!==(l=n(t[i],i));i++);else if(u(t)){var s=!1;switch(t.nodeType){case Node.ELEMENT_NODE:break;case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.DOCUMENT_NODE:case Node.DOCUMENT_TYPE_NODE:case Node.DOCUMENT_FRAGMENT_NODE:default:s=!0}if(s)return;for(var i=0,c=t.childNodes,o=t.childNodes.length;i<o;i++)n(c[i]),d(c[i],n)}else if(p(t))for(var i=0,o=t.length;i<o;i++){var l=n(t[i].nodeValue,t[i].nodeName);if(!1===l)break}else Util.isFunction(t.forEach)&&t.forEach(n)},y=function(t,n){if(a(t))for(var e={},i=0,s=t.length;i<s&&(!r(t[i])||!o(t[i])||e[t[i]]||(e[t[i]]=!0,!1!==n(t[i])));i++);},v=function(t){var n=[];return y(t,function(t){n.push(t)}),n},_=function(t){var n=t;return f(t)?(n={},d(t,function(t,e){n[e]=_(t)})):a(t)&&(n=[],d(t,function(t){n.push(_(t))})),n},E=function(t,n){if(f(t))return t.hasOwnProperty(n);if(a(t)){var e=parseInt(n);return i(n)&&t.length>e&&e>=0}return!1},g=function(t,n,e){var i=o(n)||r(n),s=i?t[n]:t;(f(s)||a(s))&&(d(s,function(t,n){g(s,n)}),a(s)&&N(s)),i&&(t[n]=e)},N=function(t,n){if(r(n))for(d(t,function(e,r){if(!(r>=n))return!1;t.length--},!0);t.length<n;)t.push(null);else d(t,function(n,e){void 0===n&&t.length--},!0);return t},b=function(t){d(t,function(n,e){c(n)?t[e]=n:b(n)})},m=function(t,n,e){function r(t,n,e){f(n)&&(d(n,function(n,i){!E(t,i)||c(n)?t[i]!==n&&(t[i]=_(n)):r(t[i],n,e)}),e&&(d(t,function(e,r){E(n,r)||g(t,r)}),a(t)&&N(t)))}if(!f(t))return null;var i=Array.prototype.slice.call(arguments,1,!0===arguments[arguments.length-1]?arguments.length-1:arguments.length);return d(i,function(n){r(t,n,e)}),t},O=function(t,n){a(t)||(t=[]);var e=this;Object.defineProperty(this,"__data",{value:t}),["set","push","pop","unshift","shift","splice"].forEach(function(t){Object.defineProperty(e,"on"+t,{value:[]})}),Object.defineProperty(this,"length",{get:function(){return t.length},set:function(n){t.length=n}}),d(t,function(t,n){e.assignElement(n,t)})};(O.prototype=[]).constructor=O,O.prototype.addEventListener=function(t,n){this["on"+t]&&s(n)&&this["on"+t].push(n)},O.prototype.removeEventListener=function(t,n){if(this["on"+t]&&s(n)){var e=this["on"+t];d(e,function(t,r){if(t===n)return e.splice(r,1),!1})}},O.prototype.dispatchEvent=function(t,n){n=Array.prototype.slice.call(arguments,1);var e=this;d(this["on"+t],function(t){t.apply(e,n)})},O.prototype.assignElement=function(t){Object.defineProperty(this,t,{get:function(){return this.__data[t]},set:function(n){var e=this.__data[t];c(e)||c(n)?(this.dispatchEvent("set",e,n,t,this.__data),e=n,this.__data[t]=e):m(e,n,!0)},configurable:!0,enumerable:!0})},O.prototype.deleteElement=function(){this.hasOwnProperty(this.length-1)&&delete this[this.length-1]},O.prototype.push=function(t){this.__data.push(t),this.assignElement(this.length-1),this.dispatchEvent("push",t)},O.prototype.pop=function(t){this.deleteElement(),this.__data.pop(),this.dispatchEvent("pop")},O.prototype.unshift=function(t){this.__data.unshift(t),this.assignElement(this.length-1),this.dispatchEvent("unshift",t)},O.prototype.shift=function(t){this.deleteElement(),this.__data.shift(),this.dispatchEvent("shift")},O.prototype.toArray=function(t){return t?this.__data:_(this.__data)},O.prototype.splice=function(t,n,e){(!r(t)||t<0)&&(t=0),t>=this.length&&(t=this.length),(!r(n)||n<0)&&(n=0),n+t>this.length&&(n=this.length-t);for(var i=[],o=t;o<t+n;o++)i.push(_(this[o]));for(var s=Array.prototype.slice.call(arguments,2),f=s.length,a=Math.min(n,f),o=t;o<t+a;o++)this[o]=s[o-t];if(n!==f){var c;n>f?(c=[t+f,n-f],Array.prototype.splice.apply(this.__data,c)):(c=[t+n,0].concat(s.slice(n)),Array.prototype.splice.apply(this.__data,c)),this.dispatchEvent.apply(this,["splice"].concat(c))}},O.prototype.forEach=function(t){for(var n=0;n<this.length&&!1!==t(this[n],n);n++);},["reverse","sort"].forEach(function(t){O.prototype[t]=function(){var n=_(this.__data);Array.prototype[t].apply(n,arguments);for(var e=0;e<this.length;e++)this[e]=n[e]}}),["slice","concat","filter","map","reduce","indexOf","find","findIndex","fill","join"].forEach(function(t){O.prototype[t]=function(){return Array.prototype[t].apply(this.toArray(),arguments)}});var D={},A=function(t,n){function r(t,n){f(n)&&(t.props||(t.props={}),d(n,function(n,e){t.props[e]||(t.props[e]={setters:[]}),r(t.props[e],n)}))}function i(t,n){d(n,function(e,o){!1!=delete n[o]&&(Object.defineProperty(n,o,{get:function(){return e},set:function(s){!function(t,n,e){d(t.setters,function(t){t(n,e)})}(t.props[o],s,e),c(s)?g(n,o,s):(r(t.props[o],s),i(t.props[o],s),c(e)?b(e=s):m(e,s,!0))},enumerable:!0}),i(t.props[o],e))})}if(!f(t))return D;if(void 0!==t.__DMD_DARK_REF&&!n)return D;Object.defineProperty(t,"__DMD_DARK_REF",{value:e()}),D[t.__DMD_DARK_REF]={data:t,props:{}};var o=D[t.__DMD_DARK_REF];return r(o,t),i(o,t),D},T=function(t,n){t.__DMD_DARK_REF||A(t);var e=D[t.__DMD_DARK_REF],r=[];for(n&&(r=n.split("."));r.length;)e=e.props[path.shift()];return e},w=function(t,n){var e=t,r=[];for(n&&(r=n.split("."));r.length;)e=e[path.shift()];return e},P=(A(),{attrPrefix:"m-",refSeparator:"/",tmplGrammer:"dollarbrace",tmplEngine:{parseDeps:function(t){},classParser:function(){},styleParser:function(){},eventParser:function(){},attrValueParser:function(){},textValueParser:function(t,n){return t.replace(/{([^{}]*)}/gi,function(t,e,r,i){return n(e)})}}}),M=function(t,n){this.$el=t||window.document.body,this.defaults={},m(this.defaults,P,n)};M.prototype.bind=function(t,e){return n(t,this.$el,e)};var j=function(t,n){return new M(t,n)};return j.defaults=_(P),j.data=A,j.bind=n,j});
//# sourceMappingURL=domod.js.map
